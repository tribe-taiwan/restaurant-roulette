<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>修正後的用餐時段選擇器測試</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
    
    <!-- React -->
    <script src="https://resource.trickle.so/vendor_lib/unpkg/react@18/umd/react.development.js"></script>
    <script src="https://resource.trickle.so/vendor_lib/unpkg/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://resource.trickle.so/vendor_lib/unpkg/@babel/standalone/babel.min.js"></script>

    <style>
        :root {
            --primary-color: #ff6b35;
            --secondary-color: #f7931e;
            --accent-color: #ffd23f;
            --background-color: #1a1a2e;
            --surface-color: #16213e;
            --text-primary: #ffffff;
            --text-secondary: #e5e5e5;
            --success-color: #4caf50;
            --warning-color: #ff9800;
        }

        body {
            background: #f9fafb;
            color: #1f2937;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
        }

        .test-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #1f2937;
        }

        .test-description {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 15px;
        }

        .requirements-list {
            background: #f0f9ff;
            border: 1px solid #0ea5e9;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .requirements-list h4 {
            color: #0369a1;
            margin: 0 0 10px 0;
            font-weight: 600;
        }

        .requirements-list ul {
            margin: 0;
            padding-left: 20px;
            color: #0369a1;
        }

        .requirements-list li {
            margin-bottom: 5px;
        }

        .current-state {
            background: #f3f4f6;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
            font-family: monospace;
            font-size: 14px;
        }
    </style>
</head>

<body>
    <div class="test-container">
        <h1 style="text-align: center; margin-bottom: 30px;">修正後的用餐時段選擇器測試</h1>

        <div class="requirements-list">
            <h4>用戶要求：</h4>
            <ul>
                <li>全部都是第一行文字較大，第二行文字較小顏色稍淺</li>
                <li>按鈕顏色都要遵照原來的不同theme的顏色主題</li>
                <li>現在營業中去掉ICON，下方加上 now</li>
                <li>不限時間去掉icon，下方加上24/7</li>
                <li>另外三個按鈕不要加上sun sunrise moon這些莫名其妙的文字</li>
            </ul>
        </div>

        <div class="test-section">
            <div class="test-title">1. 修正後的用餐時段選擇器</div>
            <div class="test-description">按照用戶要求修正的版本</div>
            <div id="corrected-selector"></div>
        </div>

        <div class="test-section">
            <div class="test-title">2. 手機寬度測試</div>
            <div class="test-description">在手機寬度下的顯示效果</div>
            <div style="max-width: 400px; margin: 0 auto; border: 2px solid #ef4444; padding: 15px; border-radius: 8px;">
                <div style="color: #ef4444; font-size: 12px; margin-bottom: 10px; text-align: center; font-weight: 600;">
                    手機螢幕模擬 (400px)
                </div>
                <div id="mobile-selector"></div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">3. 所有狀態測試</div>
            <div class="test-description">測試每個按鈕的選中狀態</div>
            <div id="all-states-test"></div>
        </div>
    </div>

    <!-- 工具函數 -->
    <script src="../utils/mealTimeConfig.js"></script>
    
    <!-- SearchSettings 子組件 -->
    <script type="text/babel" src="../components/SearchSettings/MealTimeSelector.js"></script>

    <script type="text/babel">
        const { useState } = React;

        // 模擬翻譯對象
        const mockTranslations = {
            openNowFilter: '營業中',
            anyTime: '不限時間',
            breakfast: '早餐',
            lunch: '午餐',
            dinner: '晚餐'
        };

        function CorrectedMealTimeSelector({ initialSelection = 'current' }) {
            const [selectedMealTime, setSelectedMealTime] = useState(initialSelection);

            return (
                <div>
                    <MealTimeSelector
                        selectedMealTime={selectedMealTime}
                        setSelectedMealTime={setSelectedMealTime}
                        translations={mockTranslations}
                    />
                    
                    <div className="current-state">
                        <strong>當前選擇:</strong> {selectedMealTime}<br/>
                        <strong>對應標籤:</strong> {mockTranslations[selectedMealTime] || selectedMealTime}
                    </div>
                </div>
            );
        }

        function AllStatesTest() {
            const states = ['current', 'all', 'breakfast', 'lunch', 'dinner'];
            const [currentIndex, setCurrentIndex] = useState(0);

            React.useEffect(() => {
                const interval = setInterval(() => {
                    setCurrentIndex((prev) => (prev + 1) % states.length);
                }, 2000);

                return () => clearInterval(interval);
            }, []);

            return (
                <div>
                    <div className="mb-4 text-center">
                        <div className="text-sm text-gray-600 mb-2">
                            自動切換狀態演示 (每2秒切換一次)
                        </div>
                        <div className="text-lg font-semibold text-blue-600">
                            當前狀態: {mockTranslations[states[currentIndex]] || states[currentIndex]}
                        </div>
                    </div>
                    
                    <CorrectedMealTimeSelector initialSelection={states[currentIndex]} key={currentIndex} />
                </div>
            );
        }

        // 等待組件載入完成後渲染
        setTimeout(() => {
            ReactDOM.render(<CorrectedMealTimeSelector />, document.getElementById('corrected-selector'));
            ReactDOM.render(<CorrectedMealTimeSelector />, document.getElementById('mobile-selector'));
            ReactDOM.render(<AllStatesTest />, document.getElementById('all-states-test'));
        }, 100);
    </script>
</body>

</html>
</content>