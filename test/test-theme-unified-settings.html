<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>主題統一設定區塊測試</title>

    <!-- 樣式 -->
    <link rel="stylesheet" href="../components/shared/garmin-design-system.css">
    <link rel="stylesheet" href="../components/LocationManager/LocationManager.css">
    <link rel="stylesheet" href="../components/SearchSettings/SearchSettings.css">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp"></script>
    
    <!-- React -->
    <script src="https://resource.trickle.so/vendor_lib/unpkg/react@18/umd/react.development.js"></script>
    <script src="https://resource.trickle.so/vendor_lib/unpkg/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://resource.trickle.so/vendor_lib/unpkg/@babel/standalone/babel.min.js"></script>

    <style>
        /* 使用原來的主題配色 */
        :root {
            --primary-color: #ff6b35;
            --secondary-color: #f7931e;
            --accent-color: #ffd23f;
            --background-color: #1a1a2e;
            --surface-color: #ffffff;
            --text-primary: #1f2937;
            --text-secondary: #6b7280;
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --border-color: #d1d5db;
            
            /* 主題適配色彩 */
            --theme-primary: var(--primary-color);
            --theme-secondary: var(--secondary-color);
            --theme-accent: var(--accent-color);
            --theme-background: var(--background-color);
            --theme-surface: var(--surface-color);
            --theme-text-primary: var(--text-primary);
            --theme-text-secondary: var(--text-secondary);
            
            /* 統一設計變數 */
            --unified-border-radius: 8px;
            --spacing-lg: 16px;
            --font-size-base: 16px;
            --font-weight-normal: 400;
            --transition-normal: 0.2s ease;
            --button-height-medium: 48px;
            --touch-target-min: 44px;
            --icon-size-lg: 24px;
            
            /* 陰影系統 */
            --theme-shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
            --theme-shadow-md: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
            --theme-shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.19), 0 6px 6px rgba(0, 0, 0, 0.23);
            --theme-shadow-xl: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);
            
            /* 變換效果 */
            --hover-transform: translateY(-1px);
            --hover-brightness: brightness(1.05);
            --active-transform: translateY(0);
            --active-brightness: brightness(0.95);
        }

        body {
            background: #f9fafb;
            color: #1f2937;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
        }

        .glow-container {
            box-shadow: var(--theme-shadow-lg);
        }

        .test-info {
            background: linear-gradient(135deg, var(--theme-primary), var(--theme-accent));
            color: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: var(--theme-shadow-lg);
        }

        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .comparison-container {
                grid-template-columns: 1fr;
            }
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--theme-primary);
            text-align: center;
            padding: 12px;
            background: white;
            border-radius: 8px;
            box-shadow: var(--theme-shadow-sm);
            border: 2px solid var(--theme-primary);
        }

        .theme-demo {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--theme-shadow-md);
            margin-bottom: 20px;
        }

        .color-swatch {
            display: inline-block;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            margin-right: 10px;
            border: 2px solid white;
            box-shadow: var(--theme-shadow-sm);
        }
    </style>
</head>

<body>
    <div class="container mx-auto max-w-6xl">
        <div class="test-info">
            <h1 class="text-2xl font-bold mb-3">主題統一設定區塊測試</h1>
            <p class="text-lg opacity-90">驗證 LocationManager 和 SearchSettings 使用相同的主題配色方案</p>
            
            <div class="mt-4 flex flex-wrap gap-2">
                <div class="flex items-center">
                    <div class="color-swatch" style="background: var(--theme-primary);"></div>
                    <span class="text-sm">Primary</span>
                </div>
                <div class="flex items-center">
                    <div class="color-swatch" style="background: var(--theme-accent);"></div>
                    <span class="text-sm">Accent</span>
                </div>
                <div class="flex items-center">
                    <div class="color-swatch" style="background: var(--success-color);"></div>
                    <span class="text-sm">Success</span>
                </div>
            </div>
        </div>

        <div class="comparison-container">
            <!-- LocationManager 區塊 -->
            <div>
                <div class="section-title">定位管理區塊</div>
                <div id="location-manager-container"></div>
            </div>

            <!-- SearchSettings 區塊 -->}
            <div>
                <div class="section-title">搜索設定區塊</div>
                <div id="search-settings-container"></div>
            </div>
        </div>

        <div class="theme-demo">
            <h2 class="text-xl font-bold mb-4" style="color: var(--theme-primary);">主題配色一致性檢查</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <h3 class="font-semibold mb-2">LocationManager 使用的顏色：</h3>
                    <ul class="text-sm space-y-1">
                        <li>• 當前位置顯示：theme-primary → success-color 漸層</li>
                        <li>• 快速按鈕（已儲存）：success-color → theme-primary 漸層</li>
                        <li>• 操作按鈕：theme-primary → theme-accent 漸層</li>
                    </ul>
                </div>
                <div>
                    <h3 class="font-semibold mb-2">SearchSettings 使用的顏色：</h3>
                    <ul class="text-sm space-y-1">
                        <li>• 距離顯示：theme-primary → success-color 漸層</li>
                        <li>• 單位按鈕：theme-primary → theme-accent 漸層</li>
                        <li>• 時段按鈕：theme-primary → theme-accent 漸層</li>
                        <li>• 滑軌：theme-primary 色彩</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- 工具函數 -->
    <script src="../utils/mealTimeConfig.js"></script>
    
    <!-- 共用組件 -->
    <script type="text/babel" src="../components/SettingsContainer.js"></script>
    
    <!-- LocationManager 子組件 -->
    <script type="text/babel" src="../components/LocationManager/CurrentLocationDisplay.js"></script>
    <script type="text/babel" src="../components/LocationManager/QuickLocationButtons.js"></script>
    <script type="text/babel" src="../components/LocationManager/AddressInput.js"></script>
    <script type="text/babel" src="../components/LocationManager/LocationActions.js"></script>
    <script type="text/babel" src="../components/LocationManager/index.js"></script>

    <!-- SearchSettings 子組件 -->
    <script type="text/babel" src="../components/SearchSettings/DistanceControl.js"></script>
    <script type="text/babel" src="../components/SearchSettings/MealTimeSelector.js"></script>
    <script src="../components/SearchSettings/SettingsDisplay.js"></script>
    <script type="text/babel" src="../components/SearchSettings/index.js"></script>

    <script type="text/babel">
        const { useState } = React;

        // 模擬翻譯對象
        const mockTranslations = {
            locationDetected: '已偵測到位置',
            home: '住家',
            office: '公司',
            homeNotSet: '設定住家',
            officeNotSet: '設定公司',
            saveHome: '儲存住家',
            saveOffice: '儲存公司',
            useHomeTip: '使用已儲存的住家位置',
            useOfficeTip: '使用已儲存的公司位置',
            saveHomeTip: '將當前地址儲存為住家',
            saveOfficeTip: '將當前地址儲存為公司',
            enterAddressTip: '請先輸入地址',
            enterAddress: '輸入地址或地標名稱',
            relocate: '重新定位',
            confirmAddress: '確認地址',
            searchRadius: '搜索範圍',
            mealTimeFilter: '用餐時段',
            openNowFilter: '營業中',
            anyTime: '不限時間',
            breakfast: '早餐',
            lunch: '午餐',
            dinner: '晚餐'
        };

        function TestLocationManager() {
            const [addressInput, setAddressInput] = useState('');
            const [savedLocations, setSavedLocations] = useState([
                { type: 'home', address: '台南市中西區中正路1號', lat: 22.99, lng: 120.21 }
            ]);

            return (
                <LocationManager
                    locationStatus="success"
                    userAddress="台南市中西區民族路二段76-10號"
                    savedLocations={savedLocations}
                    addressInput={addressInput}
                    setAddressInput={setAddressInput}
                    isGeocodingAddress={false}
                    onRelocate={() => console.log('Relocate')}
                    onAddressConfirm={() => console.log('Address confirmed')}
                    onLocationButton={(type) => console.log('Location button:', type)}
                    translations={mockTranslations}
                    isRelocating={false}
                    selectedLanguage="zh-TW"
                    userLocation={{ lat: 22.99, lng: 120.21 }}
                />
            );
        }

        function TestSearchSettings() {
            const [selectedMealTime, setSelectedMealTime] = useState('breakfast');
            const [baseUnit, setBaseUnit] = useState(200);
            const [unitMultiplier, setUnitMultiplier] = useState(3);

            return (
                <SearchSettings
                    selectedMealTime={selectedMealTime}
                    setSelectedMealTime={setSelectedMealTime}
                    translations={mockTranslations}
                    selectedLanguage="zh-TW"
                    baseUnit={baseUnit}
                    setBaseUnit={setBaseUnit}
                    unitMultiplier={unitMultiplier}
                    setUnitMultiplier={setUnitMultiplier}
                />
            );
        }

        // 等待組件載入完成後渲染
        setTimeout(() => {
            ReactDOM.render(<TestLocationManager />, document.getElementById('location-manager-container'));
            ReactDOM.render(<TestSearchSettings />, document.getElementById('search-settings-container'));
        }, 100);
    </script>
</body>

</html>
</content>